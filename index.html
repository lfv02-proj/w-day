<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ana & Lucas - Wedding</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Lato:wght@300;400&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="favicon2.png">
  <!-- Uploadcare v1 Regular CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@uploadcare/file-uploader@1/web/uc-file-uploader-regular.min.css">

  <style>
    :root {
      --bg-color: #f2e9e4;
      --text-color: #2b2b2b;
      --accent-color: #8b5e3c;
      --font-title: 'Playfair Display', serif;
      --font-body: 'Lato', sans-serif;
	  --gutter: clamp(16px, 5vw, 28px);
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background-color: var(--bg-color);
      font-family: var(--font-body);
      color: var(--text-color);
      line-height: 1.6;
	  padding-left: max(var(--gutter), env(safe-area-inset-left));
      padding-right: max(var(--gutter), env(safe-area-inset-right));
    }

/* Language Selector */
    .language-selector {
      position: absolute; top: 10px; right: 15px;
      display: flex; gap: 10px;
    }
    .language-selector img {
      width: 28px; height: 20px; cursor: pointer; border-radius: 3px; transition: transform .2s;
    }
    .language-selector img:hover { transform: scale(1.1); }

    header { text-align: center; padding: 2rem 1rem 2rem; }
    .logo { font-family: var(--font-title); font-size: 2rem; letter-spacing: 2px; margin-bottom: 1rem; }
    .names { font-family: var(--font-title); font-size: 2rem; font-weight: 600; letter-spacing: 2px; }

    .details {
      display: flex; justify-content: center; align-items: center; gap: 1.8rem;
      font-size: 1.05rem; color: #6b4b32; font-family: 'Lora', serif; letter-spacing: .5px; margin-top: 1rem;
	  padding-inline: clamp(12px, 4vw, 24px); max-width: 1000px; margin-left: auto; margin-right: auto;
    }
    .details .divider { color: #bda98b; font-size: 1.2rem; }
    .details a { color: #8b5e3c; text-decoration: none; display: inline-flex; align-items: center; transition: .3s; }
    .details a:hover { color:#a67c52; transform: scale(1.05); }
    #countdown { font-size: .95rem; color:#7a7a7a; letter-spacing:.6px; }

    nav { margin-top: 1.5rem; }
    nav ul { list-style: none; display: flex; justify-content: center; flex-wrap: wrap; gap: 1.5rem; font-size: .95rem; }
    nav a { text-decoration: none; color: var(--text-color); position: relative; padding-bottom: 1px; transition: color .3s; }
    nav a:hover, nav a.active { color: var(--accent-color); }
    nav a.active::after {
      content:""; position:absolute; bottom:0; left:0; width:100%; height:1px; background-color: var(--accent-color);
    }

    .hero {
      position: relative; width: 90%; max-width: 1000px;
      margin: auto; padding: 1.5rem; border-radius: 15px;
      background: linear-gradient(to top, #f8f3ef, #f2e9e4);
      box-shadow: 0 2px 8px rgba(0,0,0,.05);
      transition: background .5s ease; text-align: center;
	  padding-inline: clamp(16px, 4vw, 24px);
    }
    .hero-content { position: relative; z-index: 2; }
    .hero p { font-size: 1rem; color: var(--text-color); max-width: 700px; margin: 0 auto; line-height: 1.8; }

    .section { display: none; padding-inline: clamp(8px, 3.5vw, 20px); }
    .section.active { display: block; }
    .section p { opacity: 0; transform: translateY(10px); animation: fadeInUp .6s ease forwards; }
    @keyframes fadeInUp { to { opacity:1; transform: translateY(0); } }

    footer { text-align:center; padding:2rem 1rem; font-size:.9rem; color:#777; }

    .castle-divider { display:flex; justify-content:center; align-items:center; margin:1rem auto; width:100%; }
    .castle-image { width:250px; max-width:80%; opacity:.8; filter: drop-shadow(0 2px 2px rgba(0,0,0,.1)); transition: .3s; pointer-events:none; user-select:none; }
    .castle-image:hover { transform: scale(1.03); opacity:1; }

    @media (max-width: 800px) {
     .logo,.names { font-size:1.6rem; }
     nav ul { gap:1rem; font-size:.85rem; }
     .hero { width:95%; padding: 2rem 1rem; }
     .hero p { font-size: 1rem; }
     .castle-image { width:180px; opacity:.75; }
	 .todo-h{ font-size:1rem; }
	 .upload-cta{grid-template-columns: 1fr;}
     .upload-wrap{ max-width:none; }
	 .details{ padding-inline: clamp(14px, 6vw, 24px); }
    }

    #relationshipCountdown { color:#7a7a7a; }

    .colors { display:flex; flex-wrap:wrap; justify-content:center; gap:20px; margin-top:30px; }
    .color-box {
      width:170px; height:120px; border-radius:12px; background-color: var(--color);
      box-shadow: 0 4px 10px rgba(0,0,0,.1); display:flex; flex-direction:column; justify-content:flex-end; align-items:center;
      padding:10px; transition: transform .3s; cursor:pointer; text-align:center;
    }
    .color-box:hover { transform: scale(1.05); box-shadow: 0 4px 10px rgba(0,0,0,.2); }
    .color-name { font-weight:600; color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.2); }
    .color-hex { font-size:.85rem; color:#f0f0f0; opacity:.9; }

    .color-modal { display:none; position:fixed; z-index:999; inset:0; background: rgba(40,40,40,.45); backdrop-filter: blur(4px); justify-content:center; align-items:center; }
    .color-modal-content { background:#f8f3ef; padding:25px 35px; border-radius:14px; text-align:center; box-shadow:0 6px 20px rgba(0,0,0,.25); animation: fadeInModal .25s ease-in-out; font-family: var(--font-body); }
    .modal-color { width:160px; height:120px; border-radius:12px; margin:0 auto 15px; border:1px solid rgba(0,0,0,.2); }
    #modalText { font-family:"Playfair Display", serif; font-size:1.3rem; color:var(--text-color); letter-spacing:.5px; }
    .close { float:right; font-size:22px; cursor:pointer; color:#8b5e3c; transition: color .3s; }
    .close:hover { color:#2b2b2b; }
    @keyframes fadeInModal { from { opacity:0; transform: scale(.9);} to { opacity:1; transform: scale(1);} }

/* Form */
    form {
      max-width: 500px; margin: 1rem auto; background:#f8f3ef; padding:1rem; border-radius:10px;
      box-shadow: 0 2px 10px rgba(0,0,0,.05); text-align:left; font-family: var(--font-body); font-size: 18px;
    }
    .form-group { margin-bottom: .9rem; }
    label { display:block; color:#6b4b32; }
    input, select, textarea {
      width:100%; padding:.7rem; border:1px solid #d8cfc7; border-radius:6px; color:#2b2b2b; background:#fff; transition: border-color .3s;
    }
    input:focus, select:focus, textarea:focus { outline:none; border-color:#8b5e3c; }
    .radio-group { display:flex; flex-direction:column; gap:.25rem; padding-left:5px; }
    .radio-item { display:flex; align-items:center; gap:8px; }
    .radio-item input[type="radio"] { accent-color:#8b5e3c; width:18px; height:18px; cursor:pointer; }
    .field-error { color:#b22222; font-size:.85rem; margin-top:4px; }

    #form-status { margin-top: 1rem; text-align:center; font-weight:500; opacity:0; transition: opacity .6s; }
    #form-status.visible { opacity:1; }

    .rsvp-btn { background: var(--accent-color); color:#fff; border:none; padding:10px 20px; border-radius:4px; cursor:pointer; }
    .rsvp-btn:hover { background:#70452c; }
	
/* Upload */
    #section-photos .upload-cta{
      grid-template-columns: repeat(2, minmax(260px, 1fr));
      justify-items: center;  /* center each column */
	  width: 100%;
      max-width: 420px;
      margin-inline: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: .5rem;
    }

    #section-photos .upload-wrap{
      width:100%;
      max-width: 420px;
	  margin-inline: auto;     /* center the column itself */
	  display:flex; flex-direction:column; align-items:center; gap:.5rem;
    }
	
	#section-photos .card{
      width:100%;
      max-width:420px;
      margin-inline:auto;
    }

    .upload-btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;        
      font-size:14px;          
      border-radius:12px;
      border: 1px solid #d0d7de;
      background:#eee;
      color: #0f1722;
      cursor:pointer;
      transition:transform .05s ease, background .2s ease;
      user-select:none;
    }

    .upload-btn:hover{ background:#f4f4f4; }
    .upload-btn:active{ transform:translateY(1px); }

    .upload-icon{
      width: 18px; height: 18px; display: inline-block; vertical-align: middle; flex: 0 0 18px;
    }

    .up-help{ font-size:16px; text-align:center; }

    #upload-status{ font-size:.95rem; color:#222; text-align:center; }
    #upload-status.ok{ color:#137333; }   /* green when done */
    #upload-status.err{ color:#b22222; }  /* red on error */
    #upload-status > *{ white-space: pre-line; }

    /* The web component itself can be centered & constrained */
    uc-file-uploader-regular{
      display:block;
      width:100%;
      max-width:420px;         /* match the first button‚Äôs width */
      margin-inline:auto;      /* center it */
    }

    /* If Uploadcare injects an inner container, center that too */
    #section-photos .card :where(.uc-container, .uc-light){
      margin-inline:auto;
    }

/* Thing to do */
	.todo-guide{ display:grid; gap:18px; margin-top:16px; }
    .todo-block{ background:#fff; border:1px solid #eadfd7; border-radius:12px; padding:16px; box-shadow:0 2px 8px rgba(0,0,0,.04); }
    .todo-h{ font-family: var(--font-body);, serif; color:#6b4b32; font-size:1.05rem; margin:0 0 10px; }
    .todo-list{ padding-left:18px; }
    .todo-list li{ margin:6px 0; }
	
	.todo-list{ list-style:none; padding-left:0; margin:0; display:grid; gap:10px; }
    .todo-list li{ position:relative; padding:10px 12px 12px 28px; background:#fff; border:1px solid #eadfd7; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,.04); }
    .todo-list li:before{ content:""; position:absolute; left:12px; top:18px; width:6px; height:6px; border-radius:50%; background:#c9b7a8; box-shadow:10px 0 0 0 #e6ddd6; }

    .item-title{ display:block; font-weight:600; color:#6b4b32; margin-bottom:2px; }
    .item-note{ display:block; color:#5a5a5a; font-size:.95rem; }
    .gm{ display:inline-block; margin-top:6px; font-size:.92rem; color:#8b5e3c; text-decoration:none; border-bottom:1px solid rgba(139,94,60,.35); padding-bottom:1px; transition:.2s; }
    .gm:hover{ color:#70452c; border-bottom-color:#70452c; }
	
  </style>
</head>
<body>
  <header>
    <!-- Language Flags -->
    <div class="language-selector">
      <img src="https://flagcdn.com/gb.svg" alt="English"    onclick="setLanguage('en')" title="English">
      <img src="https://flagcdn.com/ua.svg" alt="–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞" onclick="setLanguage('uk')" title="–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞">
      <img src="https://flagcdn.com/br.svg" alt="Portugu√™s"  onclick="setLanguage('pt')" title="Portugu√™s(BR)">
      <img src="https://flagcdn.com/cz.svg" alt="ƒåe≈°tina"    onclick="setLanguage('cz')" title="ƒåe≈°tina">
    </div>

    <div class="logo"> A | L </div>

    <div class="castle-divider">
      <img src="castel.png" alt="Mikulov Castle silhouette" class="castle-image">
    </div>

    <h1 class="names"> ANA & LUCAS </h1>

    <p class="details">
      <span class="date" id="theDay">July 17, 2027</span>
      <span class="divider">|</span>
      <a href="https://maps.app.goo.gl/m3rYWviguJhZCWr36" target="_blank" class="location" style="text-transform: uppercase;">
        <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="#8b5e3c" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 5px;">
          <path d="M8 0a5.53 5.53 0 0 0-5.5 5.5c0 3.038 3.217 7.112 5.123 9.41a.5.5 0 0 0 .754 0C10.783 12.612 14 8.538 14 5.5A5.53 5.53 0 0 0 8 0Zm0 7.5A2 2 0 1 1 8 3.5a2 2 0 0 1 0 4Z"/>
        </svg>
        Mikulov, Czechia
      </a>
      <span class="divider">|</span>
      <span id="countdown">Loading countdown...</span>
    </p>

    <nav>
      <ul>
        <li><a href="#" id="nav-home" class="active">Home</a></li>
        <li><a href="#" id="nav-story">              About us</a></li>
        <li><a href="#" id="nav-travel">             For Guests</a></li>
        <li><a href="#" id="nav-todo">               Things to Do</a></li>
        <li><a href="#" id="nav-photos">             Photos</a></li>
        <li><a href="#" id="nav-party">              Contact</a></li>
        <li><a href="#" id="nav-registry">           Donations</a></li>
        <li><a href="#" id="nav-rsvp">               RSVP</a></li>
      </ul>
    </nav>
  </header>

  <section class="hero" id="hero">
    <div class="hero-content" id="hero-content">
      <main id="main-content">
        <section id="section-home" class="section active">
          <p id="text-home"></p>
        </section>

<!-- Our Story -->
        <section id="section-story" class="section">
          <p id="text-story">
            <span id="relationshipCountdown">Loading...</span>
          </p>
        </section>

<!-- For Guests (palette) -->
        <section id="section-travel" class="section">
          <p id="text-travel"></p>

          <div class="colors">
            <div class="color-box" style="--color:#8B4A4A;">
              <span class="color-name" id="color1"></span>
              <span class="color-hex">#8B4A4A</span>
            </div>
            <div class="color-box" style="--color:#3E5541;">
              <span class="color-name" id="color2"></span>
              <span class="color-hex">#3E5541</span>
            </div>
            <div class="color-box" style="--color:#C8A58C;">
              <span class="color-name" id="color3"></span>
              <span class="color-hex">#C8A58C</span>
            </div>
            <div class="color-box" style="--color:#BDCFDE;">
              <span class="color-name" id="color4"></span>
              <span class="color-hex">#BDCFDE</span>
            </div>
            <div class="color-box" style="--color:#D8A8A0;">
              <span class="color-name" id="color5"></span>
              <span class="color-hex">#D8A8A0</span>
            </div>

            <!-- Color Modal -->
            <div id="colorModal" class="color-modal">
              <div class="color-modal-content">
                <span class="close">&times;</span>
                <div id="modalColor" class="modal-color"></div>
                <p id="modalText"></p>
              </div>
            </div>
          </div>
        </section>

<!-- Things to Do  'nearby','brno','food','logistics' --> 
        <section id="section-todo" class="section">
		 <p id="text-todo"></p>
           <div id="todo-guide" class="todo-guide">
           <div class="todo-block">
		   
           <h3 class="todo-h" id="todo-head-nearby">Short trips near Mikulov (15‚Äì40 min)</h3>
		   <ul class="todo-list">
           
		   <li><span class="item-title" id="todo-t1">Lednice‚ÄìValtice Area</span>
		       <span class="item-note"  id="todo-i1">UNESCO landscape, fairy‚Äëtale chateaux, Minaret tower, bike paths by ponds.</span>
		       <a class="gm" target="_blank" href="https://maps.app.goo.gl/SL7mT9ZAj9cCpQXt6">Google Maps</a>
		   </li>
		   
           <li>
             <span class="item-title" id="todo-t2">P√°lava Hills</span>
             <span class="item-note"  id="todo-i2">Easy scenic hikes (Dƒõv√≠n ruins viewpoint), spring wildflowers, vineyards everywhere.</span>
             <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=P%C3%A1lava+D%C4%9Bv%C3%ADn">Open in Google Maps</a>
           </li>
           
           <li>
             <span class="item-title" id="todo-t3">Valtice Wine Cellars</span>
             <span class="item-note"  id="todo-i3">National Wine Salon in the chateau; curated tastings.</span>
             <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=National+Wine+Salon+Valtice">Open in Google Maps</a>
           </li>
		   
           </ul>
           </div>
           
           <div class="todo-block">
           <h3 class="todo-h" id="todo-head-brno">Brno ‚Ä¢ City vibes (40‚Äì60 min from Mikulov)</h3>
           <ul class="todo-list">
             <li>
               <span class="item-title" id="todo-b1">≈†pilberk Castle</span>
               <span class="item-note"  id="todo-b1n">Hilltop fortress with views; seasonal exhibitions.</span>
               <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=%C5%A0pilberk+Castle+Brno">Open in Google Maps</a>
             </li>
             <li>
               <span class="item-title" id="todo-b2">Villa Tugendhat (UNESCO)</span>
               <span class="item-note"  id="todo-b2n">Modernist gem by Mies van der Rohe (book guided tour ahead).</span>
               <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Villa+Tugendhat+Brno">Open in Google Maps</a>
             </li>
             <li>
               <span class="item-title" id="todo-b3">Capuchin Crypt</span>
               <span class="item-note"  id="todo-b3n">Historic crypt with mummified monks (small but unique).</span>
               <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Capuchin+Crypt+Brno">Open in Google Maps</a>
             </li>
             <li>
               <span class="item-title" id="todo-b4">St. Peter & Paul Cathedral</span>
               <span class="item-note"  id="todo-b4n">Skyline towers; tradition: bells ring at 11:00.</span>
               <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Cathedral+of+St+Peter+and+Paul+Brno">Open in Google Maps</a>
             </li>
             <li>
               <span class="item-title" id="todo-b5">Zeln√Ω trh (Cabbage Market)</span>
               <span class="item-note"  id="todo-b5n">Daily farmers‚Äô market: fruit, pastries, flowers.</span>
               <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Zeln%C3%BD+trh+Brno">Open in Google Maps</a>
             </li>
             <li>
               <span class="item-title" id="todo-b6">Brno Underground</span>
               <span class="item-note"  id="todo-b6n">Labyrinth under the square; timed entry tickets.</span>
               <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Labyrint+pod+Zeln%C3%BDm+trhem+Brno">Open in Google Maps</a>
             </li>
           </ul>
           </div>
           
           <div class="todo-block">
           <h3 class="todo-h" id="todo-head-food">Food & coffee (Brno)</h3>
           <ul class="todo-list">
           <li>
             <span class="item-title" id="todo-f1">Caf√© Placzek</span>
             <span class="item-note"  id="todo-f1n">Coffee & cakes in a chic setting.</span>
             <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Caf%C3%A9+Placzek+Brno">Open in Google Maps</a>
           </li>
           <li>
             <span class="item-title" id="todo-f2">Caf√© SK√òG</span>
             <span class="item-note"  id="todo-f2n">Nordic-style coffee & brunch; veggie friendly.</span>
             <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=SK%C3%98G+Urban+Hub+Brno">Open in Google Maps</a>
           </li>
           <li>
             <span class="item-title" id="todo-f3">Bar that doesn‚Äôt exist</span>
             <span class="item-note"  id="todo-f3n">Craft cocktails; speakeasy vibe (come early on weekends).</span>
             <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Bar%2C+kter%C3%BD+neexistuje+Brno">Open in Google Maps</a>
           </li>
           <li>
             <span class="item-title" id="todo-f4">Borgo Agnese</span>
             <span class="item-note"  id="todo-f4n">Fine dining for a special night (reserve).</span>
             <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Borgo+Agnese+Brno">Open in Google Maps</a>
           </li>
           <li>
             <span class="item-title" id="todo-f5">Lok√°l U Caipla</span>
             <span class="item-note"  id="todo-f5n">Casual Czech classics: sv√≠ƒçkov√°, schnitzel, beer.</span>
             <a class="gm" target="_blank" href="https://www.google.com/maps/search/?api=1&query=Lok%C3%A1l+U+Caipla+Brno">Open in Google Maps</a>
           </li>
           </ul>
           </div>
           
           <div class="todo-block">
           <h3 class="todo-h" id="todo-head-logistics">Easy logistics</h3>
           <ul class="todo-list">
             <li>
               <span class="item-title" id="todo-l1">Getting around</span>
               <span class="item-note"  id="todo-l1n">Mikulov is walkable. In Brno, trams/trolleys are reliable; buy tickets in apps or kiosks.</span>
             </li>
             <li>
               <span class="item-title" id="todo-l2">Payments</span>
               <span class="item-note"  id="todo-l2n">Cards widely accepted; carry some cash for wine cellars/markets.</span>
             </li>
             <li>
               <span class="item-title" id="todo-l3">Language</span>
               <span class="item-note"  id="todo-l3n">English works in most tourist spots; a friendly ‚ÄúDobr√Ω den‚Äù (hello) helps.</span>
             </li>
             <li>
               <span class="item-title" id="todo-l4">Best times</span>
               <span class="item-note"  id="todo-l4n">Holy Hill & castle terraces at sunset; markets/caf√©s in the morning.</span>
               <a class="gm" target="_blank" href="https://maps.app.goo.gl/TVgAocDz9jdDBWFg7">Open in Google Maps</a>
             </li>
           </ul>


           </div>
           </div>
		</section>
		
<!-- Photos and Videos -->
        <section id="section-photos" class="section">
		 <p id="text-photos"></p>
		  
		  <div class="upload-cta">
		  <!-- First button (Cloudinary) -->
		  <div class="upload-wrap">
		  <span class="up-help" id="upload-help">Upload your video / photo here.</span>
		  <!-- the ‚Äúbutton‚Äù -->
		  <label class="upload-btn" for="guestMedia">
		   <svg class="upload-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
		   <path d="M12 16V4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
		   <path d="M6 10l6-6 6 6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
		   <path d="M21 20H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
		   </svg>
		    <span class="upload-btn-label" id="upload-btn-label">Upload files</span>
		  </label>
		  <!-- hidden input -->
		  <input id="guestMedia" type="file" accept="image/*,video/*" multiple style="display:none" />
		  <div id="upload-status" aria-live="polite"></div>
		  </div>

          <!-- Second button (Uploadcare) -->
		  <div class="upload-wrap">
		   <span class="up-help" id="upload-help-uc">Upload your video / photo here.</span>
		   <div class="card" style="margin-inline:auto;">
		   <uc-config ctx-name="my-uploader" pubkey="8dcd5158107962c7f0e3" source-list="local, camera, gdrive, facebook" 
		   files-view-mode="grid" userAgentIntegration="llm-js"></uc-config>
		   <uc-file-uploader-regular ctx-name="my-uploader" class="uc-light uc-purple"></uc-file-uploader-regular>
		   </div>
		  </div>
		  
		  </div>  
		</section>
        
		<!-- Scheduling of Wed -->
		<section id="section-party" class="section">
		 <p id="text-party"></p>
		
		</section>
		
		<!-- Donations -->
        <section id="section-registry" class="section">
		<p id="text-registry"> </p>
		
		</section>

        <!-- RSVP -->
        <section id="section-rsvp" class="section">
          <p id="text-rsvp"></p>

          <form id="rsvp-form" action="https://formspree.io/f/mjkaledz" method="POST" novalidate>
            <!-- Full Name -->
            <div class="form-group">
              <label for="namepc" id="rsvp_name"></label>
              <input type="text" id="namepc" name="name" placeholder="" />
              <div class="field-error" id="err-name" aria-live="polite"></div>
            </div>

            <!-- Email -->
            <div class="form-group">
              <label for="emailpc" id="rsvp_mail"></label>
              <input type="email" id="emailpc" name="email" placeholder="" />
              <div class="field-error" id="err-email" aria-live="polite"></div>
            </div>

            <!-- Attendance -->
            <div class="form-group">
              <label id="rsvp_attend_label"></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" id="attend_yes" name="attendance" value="">
                  <span id="rsvp_yes"></span>
                </label>
                <label class="radio-item">
                  <input type="radio" id="attend_no" name="attendance" value="">
                  <span id="rsvp_no"></span>
                </label>
              </div>
              <div class="field-error" id="err-attendance" aria-live="polite"></div>
            </div>

            <!-- Sleep in Mikulov -->
            <div class="form-group">
              <label id="rsvp_q"></label>
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" id="sleep_yes" name="sleepo" value="">
                  <span id="rsvp_y_s"></span>
                </label>
                <label class="radio-item">
                  <input type="radio" id="sleep_no" name="sleepo" value="">
                  <span id="rsvp_n_s"></span>
                </label>
              </div>
              <div class="field-error" id="err-sleepo" aria-live="polite"></div>
            </div>

            <!-- Message -->
            <div class="form-group">
              <label for="msgtext" > 
				<span id="msgadd_label"> </span></br>
				<span style="font-size:16px;" id="msgadd2"> </span>
		      </label>
              <textarea id="msgtext" name="message" rows="4" placeholder=""></textarea>
            </div>

            <!-- Submit -->
            <button type="submit" id="submitBtn" class="rsvp-btn">Send RSVP</button>
          </form>
          <p id="form-status"></p>
        </section>
      </main>
    </div>
  </section>

  <footer class="footer-castle">
    <p>¬© 2025 Ana & Lucas. All Rights Reserved. v1.3</p> 
  </footer>

  <!-- Scripts -->
  <script>
    /* Locale map (for formatted date if needed) */
    const langMap = { en: "en-US", pt: "pt-BR", cz: "cs-CZ", uk: "uk-UA" };

    /* Wedding countdown */
    const weddingDate      = new Date("July 17, 2027 17:00:00").getTime();
    const countdownElement = document.getElementById("countdown");

    /* Translations (added errors/success + placeholders + photos texts) */
    const translations = {
      en: {
        home:"Home", story:"About us", travel:"For Guests", todo:"Things to Do", photos:"Photos", party:"Contact", registry:"Donations", rsvp:"RSVP",
        quote:"Welcome to our wedding website!</br></br>We‚Äôre beyond grateful that you‚Äôll be celebrating this special chapter with us. Mikulov holds a special place in our hearts, and we can‚Äôt wait to experience its magic together with our favorite people.</br></br>Take a look around to find everything you need ‚Äî from travel tips to our color inspiration ‚Äî and get ready for a weekend full of joy, good wine, and beautiful moments. Don't forget to confirm your presence!",
        daysToGo:"Days to go!", theDay:"17th of July - 2027", weddingDay:"It's Wedding Day! üíç",
        text_story:"Every love story is beautiful, but ours is my favorite. üíû <br>We‚Äôve been together for ",
        text_travel:"Join us for a romantic celebration in the heart of Mikulov.<br>We kindly suggest attire inspired by our wedding colors and venue elegance.",
        text_todo:"Explore the vineyards, history, and beauty of South Moravia.",
        text_photos:"Snapshots of our memories and moments together.",
        text_party:"Meet our beloved friends and family who stand with us.",
        text_registry:"Your presence is the greatest gift, but here‚Äôs a little list.",
        text_rsvp:"We can‚Äôt wait to celebrate with you. Please let us know!",
        relationshipSince:"{years} years, {months} months and {days} days ‚ù§Ô∏è",
        color1:"Cordovan", color2:"Muted Green", color3:"Khaki", color4:"Light Periwinkle", color5:"Pastel Pink",
        rsvp_attend_label:"Will you attend? *", rsvp_yes:"Yes, with pleasure!", rsvp_no:"Sorry, I can‚Äôt make it.",
        rsvp_name:"Full Name*", rsvp_mail:"Your e-mail*", rsvp_y_s:"Yes, I will.", rsvp_n_s:"No, I won't.",
        rsvp_q:"Will you sleep in Mikulov? *",
        email_placeholder:"you@example.com", name_placeholder:"Your full name", message_placeholder:"Any notes for us?",
        msgadd:"Message (optional)", msgadd2:"How many are coming with you? Any food restrictions/allergies?",
        submit_btn:"Send RSVP",
        errors:{
          name_required:"Please enter your name.",
          name_invalid: "Please enter a valid full name (letters only, include surname).",
          name_repetitive:"Name looks too repetitive.",
          email_required:"Please enter your email.",
          email_invalid: "Please enter a valid email address.",
          attendance_required:"Please select your attendance option.",
          sleepo_required:"Please tell us if you'll stay in Mikulov.",
          check_fields:"‚ö†Ô∏è Please check the fields above.",
		  conflict_sleep_when_not_attending: "This combination isn‚Äôt possible: you won‚Äôt attend but plan to sleep over?"
        },
        success:"üéâ Thank you! Your RSVP has been sent successfully.",
        fail:"There was an error. Please try again later.",
        network:"Network error. Please check your connection.",
		btn: "Upload files",
        help: "Upload your video / photo here.",
        uploading: "Uploading‚Ä¶",
        done: "Upload complete ‚úÖ",
        none: "No files uploaded.",
        presetFail: "Upload failed. Please check cloud name & unsigned preset.",
        tooBigImage: (name, size, limit) => `${name} (${size})\n‚Äî too large.\nMax ${limit} for images.`,
        tooBigVideo: (name, size, limit) => `${name} (${size})\n‚Äî too large.\nMax ${limit} for videos.`,
		gmaps_open: "Open in Google Maps",
        todo_head_nearby: "Short trips near Mikulov (15‚Äì40 min)",
        todo_head_brno: "Brno ‚Ä¢ City vibes (40‚Äì60 min)",
        todo_head_food: "Food & coffee (Brno)",
        todo_head_logistics: "Easy logistics",
        todo_nearby_t1: "Lednice‚ÄìValtice Area",
        todo_nearby_i1: "UNESCO landscape, fairy-tale chateaux, Minaret tower, bike paths by ponds.",
        todo_nearby_t2: "P√°lava Hills",
        todo_nearby_i2: "Easy scenic hikes (Dƒõv√≠n ruins viewpoint), spring wildflowers, vineyards everywhere.",
        todo_nearby_t3: "Valtice Wine Cellars",
        todo_nearby_i3: "National Wine Salon in the chateau; curated tastings.",
		// Brno
        todo_brno_t1:"≈†pilberk Castle",                  todo_brno_i1:"Hilltop fortress with views; seasonal exhibitions.",
        todo_brno_t2:"Villa Tugendhat (UNESCO)",         todo_brno_i2:"Modernist gem by Mies van der Rohe (book guided tour ahead).",
        todo_brno_t3:"Capuchin Crypt",                   todo_brno_i3:"Historic crypt with mummified monks (small but unique).",
        todo_brno_t4:"St. Peter & Paul Cathedral",       todo_brno_i4:"Skyline towers; tradition: bells ring at 11:00.",
        todo_brno_t5:"Zeln√Ω trh (Cabbage Market)",       todo_brno_i5:"Daily farmers‚Äô market: fruit, pastries, flowers.",
        todo_brno_t6:"Brno Underground",                 todo_brno_i6:"Labyrinth under the square; timed entry tickets.",
        // Food
        todo_food_t1:"Caf√© Placzek",                     todo_food_i1:"Coffee & cakes in a chic setting.",
        todo_food_t2:"Caf√© SK√òG",                        todo_food_i2:"Nordic-style coffee & brunch; veggie friendly.",
        todo_food_t3:"Bar that doesn‚Äôt exist",           todo_food_i3:"Craft cocktails; speakeasy vibe (come early on weekends).",
        todo_food_t4:"Borgo Agnese",                     todo_food_i4:"Fine dining for a special night (reserve).",
        todo_food_t5:"Lok√°l U Caipla",                   todo_food_i5:"Casual Czech classics: sv√≠ƒçkov√°, schnitzel, beer.",
        // Logistics
        todo_logistics_t1:"Getting around",              todo_logistics_i1:"Mikulov is walkable. In Brno, trams/trolleys are reliable; buy tickets in apps or kiosks.",
        todo_logistics_t2:"Payments",                    todo_logistics_i2:"Cards widely accepted; carry some cash for wine cellars/markets.",
        todo_logistics_t3:"Language",                    todo_logistics_i3:"English works in most tourist spots; a friendly ‚ÄúDobr√Ω den‚Äù (hello) helps.",
        todo_logistics_t4:"Best times",                  todo_logistics_i4:"Holy Hill & castle terraces at sunset; markets/caf√©s in the morning."
		
      },
      pt: {
        home:"In√≠cio", story:"Sobre o Casal", travel:"Convidados", todo:"O Que Fazer", photos:"Fotos", party:"Contato", registry:"Doa√ß√µes", rsvp:"Confirma√ß√£o",
        quote:"Bem-vindo a nossa p√°gina! Estamos muito ansiosos para celebrar este dia especial com voc√™(s).</br>A cidade de Mikulov ocupa um lugar especial em nossos cora√ß√µes, estamos preparando tudinho para voc√™s vivenciarem este maravilhoso evento.</br>D√™ uma olhadinha para encontrar tudo o que voc√™ precisa: desde dicas de viagem e at√© a indica√ß√£o de cores - e prepare-se para um fim de semana cheio de alegria, bons vinhos e muito mais. N√£o se esque√ßa de confirmar sua presen√ßa.",
        daysToGo:"Dias pro casamento!", theDay:"17 de Julho - 2027", weddingDay:"√â o grande dia! üíç",
        text_story:"Toda hist√≥ria de amor √© linda, mas a nossa √© a minha favorita. üíû  <br>Estamos juntos h√° ",
        text_travel:"Junte-se a n√≥s para uma celebra√ß√£o rom√¢ntica no cora√ß√£o de Mikulov.<br>Sugerimos trajes inspirados nas cores e eleg√¢ncia do nosso casamento.",
        text_todo:"Explore os vinhedos, a hist√≥ria e a beleza da Mor√°via do Sul.",
        text_photos:"Momentos e lembran√ßas que guardamos com carinho.",
        text_party:"Conhe√ßa nossos queridos amigos e familiares que est√£o conosco.",
        text_registry:"Sua presen√ßa √© o maior presente, mas aqui vai uma pequena lista.",
        text_rsvp:"Mal podemos esperar para celebrar com voc√™. Por favor, confirme sua presen√ßa!",
        relationshipSince:"{years} anos, {months} meses e {days} dias ‚ù§Ô∏è",
        color1:"Bord√¥", color2:"Verde Suave", color3:"C√°qui", color4:"Azul Lavanda", color5:"Rosa Pastel",
        rsvp_attend_label:"Voc√™ ir√° comparecer? *", rsvp_yes:"Sim, com prazer!", rsvp_no:"Desculpe, n√£o poderei ir.",
        rsvp_name:"Nome Completo*", rsvp_mail:"Seu e-mail*", rsvp_y_s:"Sim, vou.", rsvp_n_s:"N√£o vou.",
        rsvp_q:"Voc√™ vai dormir em Mikulov? *",
        email_placeholder:"voce@exemplo.com", name_placeholder:"Seu nome completo", message_placeholder:"Alguma observa√ß√£o para n√≥s?",
        msgadd:"Mensagem (opcional)", msgadd2:"Quantas pessoas vir√£o com voc√™? Alguma restri√ß√£o alimentar/alergia?",
        submit_btn:"Enviar Confirma√ß√£o",
        errors:{
          name_required:   "Por favor, informe seu nome.",
          name_invalid:    "Informe nome completo v√°lido (somente letras).",
          name_repetitive: "O nome parece repetitivo.",
          email_required:  "Por favor, informe seu e-mail.",
          email_invalid:   "Informe um e-mail v√°lido.",
          attendance_required:"Selecione uma op√ß√£o de presen√ßa.",
          sleepo_required:    "Diga se voc√™ vai dormir em Mikulov.",
          check_fields:       "‚ö†Ô∏è Verifique os campos acima.",
		  conflict_sleep_when_not_attending: "Essa combina√ß√£o n√£o √© poss√≠vel: voc√™ n√£o vir√°, mas pretende pernoitar?"
          },
        success:"üéâ Obrigado! Sua confirma√ß√£o foi enviada com sucesso.",
        fail:"Ocorreu um erro. Tente novamente mais tarde.",
        network:"Erro de rede. Verifique sua conex√£o.",
		btn: "Enviar arquivos",
        help: "Envie seu v√≠deo / foto aqui.",
        uploading: "Enviando‚Ä¶",
        done: "Envio conclu√≠do ‚úÖ",
        none: "Nenhum arquivo enviado.",
        presetFail: "Falha no envio. Verifique o cloud name e o preset unsigned.",
        tooBigImage: (name, size, limit) => `${name} (${size})\n‚Äî muito grande. M√°x. ${limit} para imagens.`,
        tooBigVideo: (name, size, limit) => `${name} (${size})\n‚Äî muito grande. M√°x. ${limit} para v√≠deos.`,
		gmaps_open: "Abrir no Google Maps",
        todo_head_nearby: "Passeios curtos perto de Mikulov (15‚Äì40 min)",
        todo_head_brno: "Brno ‚Ä¢ Clima de cidade (40‚Äì60 min)",
        todo_head_food: "Comida & caf√© (Brno)",
        todo_head_logistics: "Log√≠stica f√°cil",
        todo_nearby_t1: "√Årea Lednice‚ÄìValtice",
        todo_nearby_i1: "Paisagem da UNESCO, castelos de conto de fadas, torre Minarete, ciclovias ao redor de lagoas.",
        todo_nearby_t2: "Montes de P√°lava",
        todo_nearby_i2: "Trilhas c√™nicas f√°ceis (mirante das ru√≠nas de Dƒõv√≠n), flores silvestres na primavera, vinhedos por toda parte.",
        todo_nearby_t3: "Adegas de Valtice",
        todo_nearby_i3: "Sal√£o Nacional do Vinho no castelo; degusta√ß√µes selecionadas.",
        // Brno
        todo_brno_t1:"Castelo ≈†pilberk",                 todo_brno_i1:"Fortaleza no alto com vista; exposi√ß√µes sazonais.",
        todo_brno_t2:"Villa Tugendhat (UNESCO)",         todo_brno_i2:"Joia modernista de Mies van der Rohe (reserve o tour guiado).",
        todo_brno_t3:"Cripta dos Capuchinhos",           todo_brno_i3:"Cripta hist√≥rica com monges mumificados (pequena, por√©m √∫nica).",
        todo_brno_t4:"Catedral de S√£o Pedro e Paulo",    todo_brno_i4:"Torres do skyline; tradi√ß√£o: os sinos tocam √†s 11h.",
        todo_brno_t5:"Zeln√Ω trh (Mercado do Repolho)",   todo_brno_i5:"Feira di√°ria: frutas, doces, flores.",
        todo_brno_t6:"Subsolo de Brno",                  todo_brno_i6:"Labirinto sob a pra√ßa; ingressos com hor√°rio.",
        // Food
        todo_food_t1:"Caf√© Placzek",                     todo_food_i1:"Caf√©s e bolos em ambiente charmoso.",
        todo_food_t2:"Caf√© SK√òG",                        todo_food_i2:"Caf√© e brunch estilo n√≥rdico; op√ß√µes veggies.",
        todo_food_t3:"Bar que n√£o existe",               todo_food_i3:"Coquet√©is autorais; clima speakeasy (chegue cedo no fim de semana).",
        todo_food_t4:"Borgo Agnese",                     todo_food_i4:"Fine dining para noite especial (reserve).",
        todo_food_t5:"Lok√°l U Caipla",                   todo_food_i5:"Cl√°ssicos tchecos casuais: sv√≠ƒçkov√°, schnitzel, cerveja.",
        // Logistics
        todo_logistics_t1:"Deslocamento",                todo_logistics_i1:"Mikulov √© caminh√°vel. Em Brno, bondes/trolleybus funcionam bem; compre bilhetes no app ou quiosques.",
        todo_logistics_t2:"Pagamentos",                  todo_logistics_i2:"Cart√£o √© amplamente aceito; leve dinheiro para adegas/feirinhas.",
        todo_logistics_t3:"Idioma",                      todo_logistics_i3:"Ingl√™s funciona na maioria dos pontos; um ‚ÄúDobr√Ω den‚Äù ajuda.",
        todo_logistics_t4:"Melhores momentos",           todo_logistics_i4:"Svat√Ω kopeƒçek e terra√ßos do castelo ao p√¥r do sol; mercados/caf√©s pela manh√£."

      },
      uk: {
        home:"–ì–æ–ª–æ–≤–Ω–∞", story:"–ù–∞—à–∞ –Ü—Å—Ç–æ—Ä—ñ—è", travel:"–î–ª—è –≥–æ—Å—Ç–µ–π", todo:"–ß–∏–º –∑–∞–π–Ω—è—Ç–∏—Å—è", photos:"–§–æ—Ç–æ", party:"–ö–æ–Ω—Ç–∞–∫—Ç–∏", registry:"–î–æ–Ω–∞—Ç–∏", rsvp:"–í–∏ –∑ –Ω–∞–º–∏?",
        quote:"–ù–∞–∑–∞–≤–∂–¥–∏ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è —Ç—É—Ç.",
        daysToGo:"–î–Ω—ñ–≤ –¥–æ –í–µ—Å—ñ–ª–ª—è!", theDay:"17 –ª–∏–ø–Ω—è - 2027", weddingDay:"–°—å–æ–≥–æ–¥–Ω—ñ –≤–µ—Å—ñ–ª–ª—è! üíç",
        text_story:"–ö–æ–∂–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –∫–æ—Ö–∞–Ω–Ω—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞, –∞–ª–µ –Ω–∞—à–∞ ‚Äî –º–æ—è —É–ª—é–±–ª–µ–Ω–∞. üíû   <br>–ú–∏ —Ä–∞–∑–æ–º –≤–∂–µ ",
        text_travel:"–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ –Ω–∞—Å –Ω–∞ —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–µ —Å–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è —É —Å–µ—Ä—Ü—ñ –ú—ñ–∫—É–ª–æ–≤–∞.<br>–ú–∏ —Ä–∞–¥–∏–º–æ –≤–±—Ä–∞–Ω–Ω—è —É –≤—ñ–¥—Ç—ñ–Ω–∫–∞—Ö –Ω–∞—à–∏—Ö –≤–µ—Å—ñ–ª—å–Ω–∏—Ö –∫–æ–ª—å–æ—Ä—ñ–≤.",
        text_todo:"–î–æ—Å–ª—ñ–¥–∂—É–π—Ç–µ –≤–∏–Ω–æ–≥—Ä–∞–¥–Ω–∏–∫–∏, —ñ—Å—Ç–æ—Ä—ñ—é —Ç–∞ –∫—Ä–∞—Å—É –ü—ñ–≤–¥–µ–Ω–Ω–æ—ó –ú–æ—Ä–∞–≤—ñ—ó.",
        text_photos:"–°–≤—ñ—Ç–ª–∏–Ω–∏ –Ω–∞—à–∏—Ö —Å–ø–æ–≥–∞–¥—ñ–≤ —ñ –º–æ–º–µ–Ω—Ç—ñ–≤ —Ä–∞–∑–æ–º.",
        text_party:"–ü–æ–∑–Ω–∞–π–æ–º—Ç–µ—Å—è –∑ –Ω–∞—à–∏–º–∏ —É–ª—é–±–ª–µ–Ω–∏–º–∏ –¥—Ä—É–∑—è–º–∏ —Ç–∞ —Ä–æ–¥–∏–Ω–æ—é.",
        text_registry:"–í–∞—à–∞ –ø—Ä–∏—Å—É—Ç–Ω—ñ—Å—Ç—å ‚Äî –Ω–∞–π–∫—Ä–∞—â–∏–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫, –∞–ª–µ –æ—Å—å –Ω–µ–≤–µ–ª–∏–∫–∏–π —Å–ø–∏—Å–æ–∫.",
        text_rsvp:"–ú–∏ –Ω–µ –º–æ–∂–µ–º–æ –¥–æ—á–µ–∫–∞—Ç–∏—Å—è —Å–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è —Ä–∞–∑–æ–º —ñ–∑ –≤–∞–º–∏! –ü–æ–≤—ñ–¥–æ–º—Ç–µ –Ω–∞–º!",
        relationshipSince:"{years} —Ä–æ–∫—ñ–≤, {months} –º—ñ—Å—è—Ü—ñ–≤ —ñ {days} –¥–Ω—ñ–≤ ‚ù§Ô∏è",
        color1:"–ë–æ—Ä–¥–æ", color2:"–ü—Ä–∏–≥–ª—É—à–µ–Ω–∏–π –ó–µ–ª–µ–Ω–∏–π", color3:"–•–∞–∫—ñ", color4:"–°–≤—ñ—Ç–ª–æ-–±—É–∑–∫–æ–≤–∏–π", color5:"–ü–∞—Å—Ç–µ–ª—å–Ω–æ-—Ä–æ–∂–µ–≤–∏–π",
        rsvp_attend_label:"–í–∏ –±—É–¥–µ—Ç–µ –ø—Ä–∏—Å—É—Ç–Ω—ñ? *", rsvp_yes:"–¢–∞–∫, —ñ–∑ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è–º!", rsvp_no:"–í–∏–±–∞—á—Ç–µ, —è –Ω–µ –∑–º–æ–∂—É –ø—Ä–∏–π—Ç–∏.",
        rsvp_name:"–ü–æ–≤–Ω–µ —ñ–º'—è*", rsvp_mail:"–í–∞—à–∞ e-mail*", rsvp_y_s:"–¢–∞–∫, –∑–∞–ª–∏—à—É—Å—è.", rsvp_n_s:"–ù—ñ, –Ω–µ –∑–∞–ª–∏—à—É—Å—è.",
        rsvp_q:"–í–∏ –±—É–¥–µ—Ç–µ –Ω–æ—á—É–≤–∞—Ç–∏ —É –ú—ñ–∫—É–ª–æ–≤—ñ? *",
        email_placeholder:"vy@pryklad.ua", name_placeholder:"–í–∞—à–µ –ø–æ–≤–Ω–µ —ñ–º‚Äô—è", message_placeholder:"–ë—É–¥—å-—è–∫—ñ –Ω–æ—Ç–∞—Ç–∫–∏ –¥–ª—è –Ω–∞—Å?",
        msgadd:"–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)", msgadd2:"–°–∫—ñ–ª—å–∫–∏ –ª—é–¥–µ–π —ó–¥–µ –∑ –≤–∞–º–∏? –û–±–º–µ–∂–µ–Ω–Ω—è —â–æ–¥–æ —ó–∂—ñ/–∞–ª–µ—Ä–≥—ñ—ó?",
        submit_btn:"–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ RSVP",
        errors:{
          name_required      :"–í–∫–∞–∂—ñ—Ç—å —ñ–º‚Äô—è.",
          name_invalid       :"–í–∫–∞–∂—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–µ –ø–æ–≤–Ω–µ —ñ–º‚Äô—è (–ª–∏—à–µ –ª—ñ—Ç–µ—Ä–∏).",
          name_repetitive    :"–Ü–º‚Äô—è –≤–∏–≥–ª—è–¥–∞—î –ø–æ–≤—Ç–æ—Ä—é–≤–∞–Ω–∏–º.",
          email_required     :"–í–∫–∞–∂—ñ—Ç—å e-mail.",
          email_invalid      :"–í–∫–∞–∂—ñ—Ç—å —á–∏–Ω–Ω—É –∞–¥—Ä–µ—Å—É e-mail.",
          attendance_required:"–û–±–µ—Ä—ñ—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç –ø—Ä–∏—Å—É—Ç–Ω–æ—Å—Ç—ñ.",
          sleepo_required    :"–ü–æ–≤—ñ–¥–æ–º—Ç–µ, —á–∏ –Ω–æ—á—É–≤–∞—Ç–∏–º–µ—Ç–µ —É –ú—ñ–∫—É–ª–æ–≤—ñ.",
          check_fields       :"‚ö†Ô∏è –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ–ª—è –≤–∏—â–µ.",
		  conflict_sleep_when_not_attending: "–¢–∞–∫–µ –ø–æ—î–¥–Ω–∞–Ω–Ω—è –Ω–µ–º–æ–∂–ª–∏–≤–µ: –≤–∏ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ, –∞–ª–µ –ø–ª–∞–Ω—É—î—Ç–µ –∑–∞–ª–∏—à–∏—Ç–∏—Å—è –Ω–∞ –Ω—ñ—á?"
        },
        success              :"üéâ –î—è–∫—É—î–º–æ! –í–∞—à RSVP –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ.",
        fail                 :"–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.",
        network              :"–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑‚Äô—î–¥–Ω–∞–Ω–Ω—è.",
        btn: "–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª–∏",
        help: "–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ç—É—Ç –≤–∞—à–µ –≤—ñ–¥–µ–æ / —Ñ–æ—Ç–æ.",
        uploading: "–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è‚Ä¶",
        done: "–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ",
        none: "–§–∞–π–ª—ñ–≤ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ.",
        presetFail: "–ü–æ–º–∏–ª–∫–∞. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–∑–≤—É —Ö–º–∞—Ä–∏ —Ç–∞ unsigned preset.",
        tooBigImage: (name, size, limit) => `${name} (${size})\n‚Äî –∑–∞–≤–µ–ª–∏–∫–∏–π. –ú–∞–∫—Å ${limit} –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å.`,
        tooBigVideo: (name, size, limit) => `${name} (${size})\n‚Äî –∑–∞–≤–µ–ª–∏–∫–∏–π. –ú–∞–∫—Å ${limit} –¥–ª—è –≤—ñ–¥–µ–æ.`,
		gmaps_open: "–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤ Google Maps",
        todo_head_nearby: "–ö–æ—Ä–æ—Ç–∫—ñ –ø–æ—ó–∑–¥–∫–∏ –±—ñ–ª—è –ú—ñ–∫—É–ª–æ–≤–∞ (15‚Äì40 —Ö–≤)",
        todo_head_brno: "–ë—Ä–Ω–æ ‚Ä¢ –ú—ñ—Å—å–∫–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ (40‚Äì60 —Ö–≤)",
        todo_head_food: "–á–∂–∞ —Ç–∞ –∫–∞–≤–∞ (–ë—Ä–Ω–æ)",
        todo_head_logistics: "–ü—Ä–æ—Å—Ç—ñ –¥—Ä—ñ–±–Ω–∏—Ü—ñ –ª–æ–≥—ñ—Å—Ç–∏–∫–∏",
        todo_nearby_t1: "–ö–æ–º–ø–ª–µ–∫—Å –õ–µ–¥–Ω—ñ—Ü–µ‚Äì–í–∞–ª—å—Ç—ñ—Ü–µ",
        todo_nearby_i1: "–û–±‚Äô—î–∫—Ç –Æ–ù–ï–°–ö–û: –ø–∞–ª–∞—Ü–∏, –º—ñ–Ω–∞—Ä–µ—Ç, –≤–µ–ª–æ–¥–æ—Ä—ñ–∂–∫–∏ –±—ñ–ª—è —Å—Ç–∞–≤–∫—ñ–≤.",
        todo_nearby_t2: "–ü–∞–≥–æ—Ä–±–∏ –ü–∞–ª—è–≤–∏",
        todo_nearby_i2: "–ü—Ä–æ—Å—Ç—ñ –º–∞–ª—å–æ–≤–Ω–∏—á—ñ –º–∞—Ä—à—Ä—É—Ç–∏ (–æ–≥–ª—è–¥–æ–≤–∏–π –º–∞–π–¥–∞–Ω—á–∏–∫ —Ä—É—ó–Ω –î—î–≤—ñ–Ω), –≤–µ—Å–Ω—è–Ω—ñ –∫–≤—ñ—Ç–∏, –≤–∏–Ω–æ–≥—Ä–∞–¥–Ω–∏–∫–∏ —É—Å—é–¥–∏.",
        todo_nearby_t3: "–í–∏–Ω–Ω—ñ –ª—å–æ—Ö–∏ —É –í–∞–ª—å—Ç—ñ—Ü–µ",
        todo_nearby_i3: "–ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –≤–∏–Ω–Ω–∏–π —Å–∞–ª–æ–Ω —É –∑–∞–º–∫—É; –∫—É—Ä–∞—Ç–æ—Ä—Å—å–∫—ñ –¥–µ–≥—É—Å—Ç–∞—Ü—ñ—ó.",
		// Brno
        todo_brno_t1:"–ó–∞–º–æ–∫ –®–ø—ñ–ª–±–µ—Ä–∫",                   todo_brno_i1:"–§–æ—Ä—Ç–µ—Ü—è –Ω–∞ –ø–∞–≥–æ—Ä–±—ñ –∑ –∫—Ä–∞—î–≤–∏–¥–∞–º–∏; —Å–µ–∑–æ–Ω–Ω—ñ –≤–∏—Å—Ç–∞–≤–∫–∏.",
        todo_brno_t2:"–í—ñ–ª–ª–∞ –¢—É–≥–µ–Ω–¥—Ö–∞—Ç (–Æ–ù–ï–°–ö–û)",         todo_brno_i2:"–ú–æ–¥–µ—Ä–Ω—ñ—Å—Ç—Å—å–∫–∏–π —à–µ–¥–µ–≤—Ä –ú—ñ—Å–∞ –≤–∞–Ω –¥–µ—Ä –†–æ–µ (–∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –±—Ä–æ–Ω—é–π—Ç–µ —Ç—É—Ä).",
        todo_brno_t3:"–ö–∞–ø—É—Ü–∏–Ω—Å—å–∫–∏–π —Å–∫–ª–µ–ø",               todo_brno_i3:"–Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π —Å–∫–ª–µ–ø –∑ –º—É–º—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–º–∏ –º–æ–Ω–∞—Ö–∞–º–∏ (–Ω–µ–≤–µ–ª–∏–∫–∏–π, –∞–ª–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π).",
        todo_brno_t4:"–ö–∞—Ñ–µ–¥—Ä–∞ –°–≤. –ü–µ—Ç—Ä–∞ —ñ –ü–∞–≤–ª–∞",        todo_brno_i4:"–í–µ–∂—ñ –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ñ; —Ç—Ä–∞–¥–∏—Ü—ñ—è: –¥–∑–≤–æ–Ω–∏ –±‚Äô—é—Ç—å –æ–± 11:00.",
        todo_brno_t5:"–ó–µ–ª–µ–Ω–∏–π —Ä–∏–Ω–æ–∫ (Zeln√Ω trh)",        todo_brno_i5:"–©–æ–¥–µ–Ω–Ω–∏–π –±–∞–∑–∞—Ä: —Ñ—Ä—É–∫—Ç–∏, –≤–∏–ø—ñ—á–∫–∞, –∫–≤—ñ—Ç–∏.",
        todo_brno_t6:"–ü—ñ–¥–∑–µ–º–µ–ª–ª—è –ë—Ä–Ω–æ",                  todo_brno_i6:"–õ–∞–±—ñ—Ä–∏–Ω—Ç –ø—ñ–¥ –ø–ª–æ—â–µ—é; –≤—Ö—ñ–¥ –∑–∞ —á–∞—Å–æ–≤–∏–º–∏ —Å–ª–æ—Ç–∞–º–∏.",
        // Food
        todo_food_t1:"–ö–∞—Ñ–µ Placzek",                     todo_food_i1:"–ö–∞–≤–∞ —Ç–∞ —Ç—ñ—Å—Ç–µ—á–∫–∞ –≤ –∑–∞—Ç–∏—à–Ω—ñ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä—ñ.",
        todo_food_t2:"–ö–∞—Ñ–µ SK√òG",                        todo_food_i2:"–°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å—å–∫–∞ –∫–∞–≤–∞ —Ç–∞ –±—Ä–∞–Ω—á; —î –≤–µ–≥–µ—Ç–∞—Ä—ñ–∞–Ω—Å—å–∫—ñ –æ–ø—Ü—ñ—ó.",
        todo_food_t3:"–ë–∞—Ä, —è–∫–æ–≥–æ –Ω–µ —ñ—Å–Ω—É—î",              todo_food_i3:"–ê–≤—Ç–æ—Ä—Å—å–∫—ñ –∫–æ–∫—Ç–µ–π–ª—ñ; —Å–ø—ñ–∫—ñ–∑—ñ-–Ω–∞—Å—Ç—Ä—ñ–π (—É –≤–∏—Ö—ñ–¥–Ω—ñ –∫—Ä–∞—â–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç–∏ —Ä–∞–Ω–æ).",
        todo_food_t4:"Borgo Agnese",                     todo_food_i4:"–í–∏—à—É–∫–∞–Ω–∞ –≤–µ—á–µ—Ä—è –¥–ª—è –æ—Å–æ–±–ª–∏–≤–æ—ó –Ω–∞–≥–æ–¥–∏ (–ø–æ—Ç—Ä—ñ–±–Ω–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è).",
        todo_food_t5:"Lok√°l U Caipla",                   todo_food_i5:"–ß–µ—Å—å–∫–∞ –∫–ª–∞—Å–∏–∫–∞ –±–µ–∑ –ø–∞—Ñ–æ—Å—É: —Å–≤—ñ—á–∫–æ–≤–∞, —à–Ω—ñ—Ü–µ–ª—å, –ø–∏–≤–æ.",
        // Logistics
        todo_logistics_t1:"–Ø–∫ –ø–µ—Ä–µ—Å—É–≤–∞—Ç–∏—Å—å",             todo_logistics_i1:"–ú—ñ–∫—É–ª–æ–≤ –∑—Ä—É—á–Ω–æ –æ–≥–ª—è–¥–∞—Ç–∏ –ø—ñ—à–∫–∏. –£ –ë—Ä–Ω–æ —Ç—Ä–∞–º–≤–∞—ó/—Ç—Ä–æ–ª–µ–π–±—É—Å–∏ –Ω–∞–¥—ñ–π–Ω—ñ; –∫–≤–∏—Ç–∫–∏ –≤ –¥–æ–¥–∞—Ç–∫–∞—Ö –∞–±–æ –∫—ñ–æ—Å–∫–∞—Ö.",
        todo_logistics_t2:"–ü–ª–∞—Ç–µ–∂—ñ",                     todo_logistics_i2:"–ö–∞—Ä—Ç–∫–∏ –≤—Å—é–¥–∏ –ø—Ä–∏–π–º–∞—é—Ç—å; –¥–ª—è –≤–∏–Ω–Ω–∏—Ö –ª—å–æ—Ö—ñ–≤/—Ä–∏–Ω–∫—ñ–≤ –º–∞–π—Ç–µ —Ç—Ä–æ—Ö–∏ –≥–æ—Ç—ñ–≤–∫–∏.",
        todo_logistics_t3:"–ú–æ–≤–∞",                        todo_logistics_i3:"–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –ø—Ä–∞—Ü—é—î –≤ –±—ñ–ª—å—à–æ—Å—Ç—ñ –º—ñ—Å—Ü—å; –ø—Ä–∏–≤—ñ—Ç–Ω–µ ¬´Dobr√Ω den¬ª –¥–æ–ø–æ–º–∞–≥–∞—î.",
        todo_logistics_t4:"–ù–∞–π–∫—Ä–∞—â–∏–π —á–∞—Å",               todo_logistics_i4:"–°–≤—è—Ç–∏–π –ø–∞–≥–æ—Ä–± —ñ —Ç–µ—Ä–∞—Å–∏ –∑–∞–º–∫—É –Ω–∞ –∑–∞—Ö–æ–¥—ñ; —Ä–∏–Ω–∫–∏/–∫–∞—Ñ–µ –∑—Ä–∞–Ω–∫—É."
		
      },
      cz: {
        home:"Dom≈Ø", story:"N√°≈° P≈ô√≠bƒõh", travel:"Cestov√°n√≠", todo:"Co Dƒõlat", photos:"Fotky", party:"Svatebn√≠ Host√©", registry:"Dary", rsvp:"Potvrdit √öƒçast",
        quote:"Nav≈ædy zaƒç√≠n√° tady.",
        daysToGo:"Dn√≠ do Svatby!", theDay:"17. ƒçervence - 2027", weddingDay:"Je svatebn√≠ den! üíç",
        text_story:"Ka≈æd√Ω milostn√Ω p≈ô√≠bƒõh je kr√°sn√Ω, ale ten n√°≈° je m≈Øj obl√≠ben√Ω. üíû <br>Jsme spolu u≈æ ",
        text_travel:"P≈ôipojte se k n√°m k romantick√© oslavƒõ v srdci Mikulova.<br>Doporuƒçujeme obleƒçen√≠ inspirovan√© na≈°imi svatebn√≠mi barvami a eleganc√≠ m√≠sta.",
        text_todo:"Prozkoumejte vinice, historii a kr√°su ji≈æn√≠ Moravy.",
        text_photos:"Okam≈æiky a vzpom√≠nky, kter√© sd√≠l√≠me spolu.",
        text_party:"Seznamte se s na≈°imi milovan√Ωmi p≈ô√°teli a rodinou, kte≈ô√≠ jsou s n√°mi.",
        text_registry:"Va≈°e p≈ô√≠tomnost je ten nejvƒõt≈°√≠ dar, ale zde je mal√Ω seznam.",
        text_rsvp:"Nem≈Ø≈æeme se doƒçkat oslavy s v√°mi! Pros√≠me o potvrzen√≠ √∫ƒçasti.",
        relationshipSince:"{years} let, {months} mƒõs√≠c≈Ø a {days} dn√≠ ‚ù§Ô∏è",
        color1:"Bord√≥", color2:"Tlumen√° zelen√°", color3:"Khaki", color4:"Svƒõtle modrofialov√°", color5:"Pastelovƒõ r≈Ø≈æov√°",
        rsvp_attend_label:"Z√∫ƒçastn√≠te se? *", rsvp_yes:"Ano, s potƒõ≈°en√≠m!", rsvp_no:"Omlouv√°m se, nemohu p≈ôij√≠t.",
        rsvp_name:"Cel√© jm√©no*", rsvp_mail:"V√°≈° e-mail*", rsvp_y_s:"Ano, p≈ôesp√≠m.", rsvp_n_s:"Ne, nep≈ôesp√≠m.",
        rsvp_q:"Budete sp√°t v Mikulovƒõ? *",
        email_placeholder:"vas@priklad.cz", name_placeholder:"Va≈°e cel√© jm√©no", message_placeholder:"Nƒõjak√° pozn√°mka pro n√°s?",
        msgadd:"Zpr√°va (voliteln√©)", msgadd2:"Kolik jich s v√°mi jede? Potravinov√° omezen√≠/alergie?",
        submit_btn:"Odeslat RSVP",
        errors:{
          name_required:"Zadejte pros√≠m sv√© jm√©no.",
          name_invalid:"Zadejte platn√© cel√© jm√©no (pouze p√≠smena).",
          name_repetitive:"Jm√©no vypad√° p≈ô√≠li≈° opakovanƒõ.",
          email_required:"Zadejte e-mail.",
          email_invalid:"Zadejte platnou e-mailovou adresu.",
          attendance_required:"Vyberte mo≈ænost √∫ƒçasti.",
          sleepo_required:"Sdƒõlte, zda budete sp√°t v Mikulovƒõ.",
          check_fields:"‚ö†Ô∏è Zkontrolujte pole v√Ω≈°e.",
		  conflict_sleep_when_not_attending: "Tato kombinace nen√≠ mo≈æn√°: nez√∫ƒçastn√≠te se, ale pl√°nujete p≈ôespat."
        },
        success:"üéâ Dƒõkujeme! Va≈°e RSVP bylo √∫spƒõ≈°nƒõ odesl√°no.",
        fail:"Do≈°lo k chybƒõ. Zkuste to pros√≠m pozdƒõji.",
        network:"Chyba s√≠tƒõ. Zkontrolujte p≈ôipojen√≠.",
        btn: "Nahr√°t soubory",
        help: "Sem nahrajte sv√© video / fotku.",
        uploading: "Nahr√°v√°n√≠‚Ä¶",
        done: "Nahr√°v√°n√≠ dokonƒçeno ‚úÖ",
        none: "≈Ω√°dn√© soubory nenahr√°ny.",
        presetFail: "Nahr√°v√°n√≠ selhalo. Zkontrolujte cloud name a unsigned preset.",
        tooBigImage: (name, size, limit) => `${name} (${size})\n‚Äî p≈ô√≠li≈° velk√©. Max ${limit} pro obr√°zky.`,
        tooBigVideo: (name, size, limit) => `${name} (${size})\n‚Äî p≈ô√≠li≈° velk√©. Max ${limit} pro videa.`,
		gmaps_open: "Otev≈ô√≠t v Google Maps",
        todo_head_nearby: "Kr√°tk√© v√Ωlety u Mikulova (15‚Äì40 min)",
        todo_head_brno: "Brno ‚Ä¢ Mƒõstsk√° atmosf√©ra (40‚Äì60 min)",
        todo_head_food: "J√≠dlo & k√°va (Brno)",
        todo_head_logistics: "Snadn√° logistika",
        todo_nearby_t1: "Lednicko-valtick√Ω are√°l",
        todo_nearby_i1: "UNESCO krajina, poh√°dkov√© z√°mky, Minaret, cyklostezky kolem rybn√≠k≈Ø.",
        todo_nearby_t2: "P√°lava (Dƒõv√≠n)",
        todo_nearby_i2: "Snadn√© vyhl√≠dkov√© trasy (vyhl√≠dka u z≈ô√≠ceniny Dƒõv√≠n), jarn√≠ kvƒõtena, vinice v≈°ude kolem.",
        todo_nearby_t3: "Valtick√© vinn√© sklepy",
        todo_nearby_i3: "N√°rodn√≠ sal√≥n v√≠n na z√°mku; ≈ô√≠zen√© degustace.",
        // Brno
        todo_brno_t1:"Hrad ≈†pilberk",                     todo_brno_i1:"Pevnost na kopci s v√Ωhledy; sez√≥nn√≠ v√Ωstavy.",
        todo_brno_t2:"Vila Tugendhat (UNESCO)",           todo_brno_i2:"Modernistick√Ω skvost Miese van der Rohe (rezervujte si prohl√≠dku).",
        todo_brno_t3:"Kapuc√≠nsk√° hrobka",                 todo_brno_i3:"Historick√° hrobka s mumifikovan√Ωmi mnichy (mal√°, ale jedineƒçn√°).",
        todo_brno_t4:"Katedr√°la sv. Petra a Pavla",       todo_brno_i4:"Dominanta siluety; tradice: zvony zvon√≠ v 11:00.",
        todo_brno_t5:"Zeln√Ω trh",                         todo_brno_i5:"Ka≈ædodenn√≠ tr≈ænice: ovoce, peƒçivo, kvƒõtiny.",
        todo_brno_t6:"Brnƒõnsk√© podzem√≠",                  todo_brno_i6:"Labyrint pod n√°mƒõst√≠m; vstup na ƒçasov√© sloty.",
        // Food
        todo_food_t1:"Caf√© Placzek",                      todo_food_i1:"K√°va a dorty v elegantn√≠m prost≈ôed√≠.",
        todo_food_t2:"Caf√© SK√òG",                         todo_food_i2:"Seversk√° k√°va a brunch; p≈ô√°telsk√© k vegetari√°n≈Øm.",
        todo_food_t3:"Bar, kter√Ω neexistuje",             todo_food_i3:"Autorsk√© koktejly; speakeasy atmosf√©ra (o v√≠kendu p≈ôijƒète d≈ô√≠v).",
        todo_food_t4:"Borgo Agnese",                      todo_food_i4:"Fine dining na v√Ωjimeƒçn√Ω veƒçer (rezervace).",
        todo_food_t5:"Lok√°l U Caipla",                    todo_food_i5:"ƒåesk√° klasika na pohodu: sv√≠ƒçkov√°, ≈ô√≠zek, pivo.",
        // Logistics
        todo_logistics_t1:"Doprava",                      todo_logistics_i1:"Mikulov projdete pƒõ≈°ky. V Brnƒõ jezd√≠ spolehlivƒõ tramvaje/trolejbusy; j√≠zdenky v appk√°ch nebo kiosc√≠ch.",
        todo_logistics_t2:"Platby",                       todo_logistics_i2:"Karty se bƒõ≈ænƒõ berou; do skl√≠pk≈Ø/trh≈Ø se hod√≠ hotovost.",
        todo_logistics_t3:"Jazyk",                        todo_logistics_i3:"Angliƒçtina ve vƒõt≈°inƒõ m√≠st staƒç√≠; p≈ô√°telsk√© ‚ÄûDobr√Ω den‚Äú potƒõ≈°√≠.",
        todo_logistics_t4:"Nejlep≈°√≠ ƒçasy",                todo_logistics_i4:"Svat√Ω kopeƒçek a z√°meck√© terasy p≈ôi z√°padu; trhy/kav√°rny r√°no."

      }
    };

    let currentLang = "en";

    function updateCountdown() {
      const now = Date.now();
      const distance = weddingDate - now;
      if (distance < 0) { countdownElement.innerHTML = translations[currentLang]["weddingDay"]; return; }
      const days = Math.floor(distance / (1000*60*60*24));
      countdownElement.innerHTML = `${days} ${translations[currentLang]["daysToGo"]}`;
    }
    setInterval(updateCountdown, 1000); updateCountdown();

    /* Relationship counter (localized) */
    function calcRelationshipParts() {
      const start = new Date("May 16, 2023 10:00:00").getTime();
      const now   = Date.now();
      let diffDays = Math.floor((now - start) / (1000*60*60*24));
      const years  = Math.floor(diffDays / 365); diffDays -= years*365;
      const months = Math.floor(diffDays / 30);  const days = diffDays - months*30;
      return { years, months, days };
    }
    function updateRelationshipCountdown() {
      const el = document.getElementById("relationshipCountdown"); if (!el) return;
      const parts = calcRelationshipParts();
      const tpl = translations[currentLang]?.relationshipSince || "{years}y {months}m {days}d";
      el.textContent = tpl.replace("{years}", parts.years).replace("{months}", parts.months).replace("{days}", parts.days);
    }
    setInterval(updateRelationshipCountdown, 1000*60*60*12); updateRelationshipCountdown();

    /* Photos text sync */
    function syncPhotosTexts(){
      const t = translations[currentLang] || translations.en;
      document.querySelectorAll('.up-help').forEach(el => el.textContent = t.help || 'Upload your video / photo here.');
      document.querySelectorAll('.upload-btn-label').forEach(el => el.textContent = t.btn || 'Upload files');
    }

    /* Language switcher */
    function setLanguage(lang) {
      currentLang = lang;
      // Nav
      document.getElementById("nav-home").textContent     = translations[lang]["home"];
      document.getElementById("nav-story").textContent    = translations[lang]["story"];
      document.getElementById("nav-travel").textContent   = translations[lang]["travel"];
      document.getElementById("nav-todo").textContent     = translations[lang]["todo"];
      document.getElementById("nav-photos").textContent   = translations[lang]["photos"];
      document.getElementById("nav-party").textContent    = translations[lang]["party"];
      document.getElementById("nav-registry").textContent = translations[lang]["registry"];
      document.getElementById("nav-rsvp").textContent     = translations[lang]["rsvp"];
      // Sections
      document.getElementById("text-home").innerHTML      = translations[lang]["quote"];
      const storyBase = translations[lang]["text_story"];
      document.getElementById("text-story").innerHTML     = storyBase + '<span id="relationshipCountdown">' + (document.getElementById("relationshipCountdown")?.textContent || '...') + '</span>';
      document.getElementById("text-travel").innerHTML    = translations[lang]["text_travel"];
      document.getElementById("text-todo").innerHTML      = translations[lang]["text_todo"];
      document.getElementById("text-photos").innerHTML    = translations[lang]["text_photos"];
      document.getElementById("text-party").innerHTML     = translations[lang]["text_party"];
      document.getElementById("text-registry").innerHTML  = translations[lang]["text_registry"];
      document.getElementById("text-rsvp").innerHTML      = translations[lang]["text_rsvp"];
      document.getElementById("theDay").innerHTML         = translations[lang]["theDay"];
      // Palette names
      ["color1","color2","color3","color4","color5"].forEach(id => {
        document.getElementById(id).textContent = translations[lang][id];
      });
      // RSVP labels & placeholders
      document.getElementById("rsvp_attend_label").textContent = translations[lang]["rsvp_attend_label"];
      document.getElementById("rsvp_name").textContent         = translations[lang]["rsvp_name"];
      document.getElementById("rsvp_mail").textContent         = translations[lang]["rsvp_mail"];
      document.getElementById("rsvp_q").textContent            = translations[lang]["rsvp_q"];
      document.getElementById("rsvp_yes").textContent          = translations[lang]["rsvp_yes"];
      document.getElementById("rsvp_no").textContent           = translations[lang]["rsvp_no"];
      document.getElementById("rsvp_y_s").textContent          = translations[lang]["rsvp_y_s"];
      document.getElementById("rsvp_n_s").textContent          = translations[lang]["rsvp_n_s"];
      document.getElementById("emailpc").placeholder           = translations[lang]["email_placeholder"];
      document.getElementById("namepc").placeholder            = translations[lang]["name_placeholder"];
      const msgLabelEl = document.getElementById('msgadd_label');
      if (msgLabelEl) msgLabelEl.textContent = translations[lang]['msgadd'] || '';
      document.getElementById("msgadd2").textContent           = translations[lang]["msgadd2"] || '';
      document.getElementById("submitBtn").textContent         = translations[lang]["submit_btn"];
      // Also translate the VALUES that get submitted
      document.getElementById("attend_yes").value = translations[lang]["rsvp_yes"];
      document.getElementById("attend_no").value  = translations[lang]["rsvp_no"];
      document.getElementById("sleep_yes").value  = translations[lang]["rsvp_y_s"];
      document.getElementById("sleep_no").value   = translations[lang]["rsvp_n_s"];
	  
	  // --- To-Do section headings ---
      ['nearby','brno','food','logistics'].forEach(k => {
        const el = document.getElementById('todo-head-' + k);
        if (el) el.textContent = translations[lang]['todo_head_'+k];
      });
	  
     function syncTodoItemsToLanguage(lang){
       const t = translations[lang] || translations.en;
     
       // clear any previous form status/errors (kept from your version)
       const status = document.getElementById('form-status');
       if (status){ status.textContent=''; status.classList.remove('visible'); status.removeAttribute('style'); }
       ['err-name','err-email','err-attendance','err-sleepo'].forEach(id=>{
         const el = document.getElementById(id);
         if (el){ el.textContent=''; el.removeAttribute('style'); }
       });
     
       // base labels you already had (kept)
       const set = (id, v) => { const el = document.getElementById(id); if (el) el.textContent = v; };
       set('rsvp_name', t.rsvp_name); set('rsvp_mail', t.rsvp_mail);
       set('rsvp_attend_label', t.rsvp_attend_label); set('rsvp_q', t.rsvp_q);
       set('rsvp_yes', t.rsvp_yes); set('rsvp_no', t.rsvp_no);
       set('rsvp_y_s', t.rsvp_y_s); set('rsvp_n_s', t.rsvp_n_s);
     
       // placeholders (kept)
       const namepc = document.getElementById('namepc');
       const emailpc = document.getElementById('emailpc');
       if (namepc)  namepc.placeholder  = t.name_placeholder || '';
       if (emailpc) emailpc.placeholder = t.email_placeholder || '';
       const msgadd = document.getElementById('msgadd');
       const msgadd2= document.getElementById('msgadd2');
       if (msgadd && msgadd.firstChild) msgadd.firstChild.nodeValue = (t.msgadd || '') + ' ';
       if (msgadd2) msgadd2.textContent = t.msgadd2 || '';
       const submitBtn = document.getElementById('submitBtn');
       if (submitBtn && t.submit_btn) submitBtn.textContent = t.submit_btn;
     
       // radios values (kept)
       const attendYes = document.getElementById('attend_yes');
       const attendNo  = document.getElementById('attend_no');
       const sleepYes  = document.getElementById('sleep_yes');
       const sleepNo   = document.getElementById('sleep_no');
       if (attendYes) attendYes.value = t.rsvp_yes;
       if (attendNo)  attendNo.value  = t.rsvp_no;
       if (sleepYes)  sleepYes.value  = t.rsvp_y_s;
       if (sleepNo)   sleepNo.value   = t.rsvp_n_s;
     
       // ---- To-Do items text mapping (nearby + brno + food + logistics) ----
       const pairs = [
         // nearby (you already set these)
         ['todo-t1','todo_nearby_t1'], ['todo-i1','todo_nearby_i1'],
         ['todo-t2','todo_nearby_t2'], ['todo-i2','todo_nearby_i2'],
         ['todo-t3','todo_nearby_t3'], ['todo-i3','todo_nearby_i3'],
     
         // brno
         ['todo-b1','todo_brno_t1'], ['todo-b1n','todo_brno_i1'],
         ['todo-b2','todo_brno_t2'], ['todo-b2n','todo_brno_i2'],
         ['todo-b3','todo_brno_t3'], ['todo-b3n','todo_brno_i3'],
         ['todo-b4','todo_brno_t4'], ['todo-b4n','todo_brno_i4'],
         ['todo-b5','todo_brno_t5'], ['todo-b5n','todo_brno_i5'],
         ['todo-b6','todo_brno_t6'], ['todo-b6n','todo_brno_i6'],
     
         // food
         ['todo-f1','todo_food_t1'], ['todo-f1n','todo_food_i1'],
         ['todo-f2','todo_food_t2'], ['todo-f2n','todo_food_i2'],
         ['todo-f3','todo_food_t3'], ['todo-f3n','todo_food_i3'],
         ['todo-f4','todo_food_t4'], ['todo-f4n','todo_food_i4'],
         ['todo-f5','todo_food_t5'], ['todo-f5n','todo_food_i5'],
     
         // logistics
         ['todo-l1','todo_logistics_t1'], ['todo-l1n','todo_logistics_i1'],
         ['todo-l2','todo_logistics_t2'], ['todo-l2n','todo_logistics_i2'],
         ['todo-l3','todo_logistics_t3'], ['todo-l3n','todo_logistics_i3'],
         ['todo-l4','todo_logistics_t4'], ['todo-l4n','todo_logistics_i4'],
       ];
       pairs.forEach(([id,key])=>{
         const el = document.getElementById(id);
         if (el && t[key]) el.textContent = t[key];
       });
     
       // label all Google Maps links
       document.querySelectorAll('#section-todo a.gm')
         .forEach(a => a.textContent = t.gmaps_open || 'Open in Google Maps');
     }

      
      // --- "Open in Google Maps" links inside the To-Do section ---
      document.querySelectorAll('#section-todo a.gm').forEach(a => {
        a.textContent = translations[lang].gmaps_open;
      });

      updateRelationshipCountdown();
      updateCountdown();
	  syncRsvpUiToLanguage(lang);
      syncPhotosTexts();
	  syncTodoItemsToLanguage(lang);

    }

    // Section switching
    document.querySelectorAll("nav a").forEach(link => {
      link.addEventListener("click", (e) => {
        e.preventDefault();
        const section = e.target.id.replace("nav-", "");
        document.querySelectorAll("nav a").forEach(a => a.classList.remove("active"));
        e.target.classList.add("active");
        document.querySelectorAll(".section").forEach(sec => sec.classList.remove("active"));
        document.getElementById(`section-${section}`).classList.add("active");
      });
    });

    // Init language
    (function init(){ setLanguage(currentLang); })();

    // Color modal
    const colorModal = document.getElementById("colorModal");
    const modalColor = document.getElementById("modalColor");
    const modalText  = document.getElementById("modalText");
    const closeModal = document.querySelector(".close");
    document.querySelectorAll(".color-box").forEach(box => {
      box.addEventListener("click", () => {
        const color = getComputedStyle(box).getPropertyValue("--color").trim();
        const name  = box.querySelector(".color-name")?.textContent || "";
        modalColor.style.backgroundColor = color;
        modalText.textContent = `${name} (${color})`;
        colorModal.style.display = "flex";
      });
    });
    closeModal.onclick = () => colorModal.style.display = "none";
    window.onclick = e => { if (e.target === colorModal) colorModal.style.display = "none"; };

/* ---- RSVP Validation (radios + localization) ---- */
  // 1) Call this at the very end of setLanguage(lang)
  function syncRsvpUiToLanguage(lang){
  // Clear any existing errors & status
  const status = document.getElementById('form-status');
  if (status){ status.textContent=''; status.classList.remove('visible'); status.removeAttribute('style'); }
  ['err-name','err-email','err-attendance','err-sleepo'].forEach(id=>{
    const el = document.getElementById(id);
    if (el){ el.textContent=''; el.removeAttribute('style'); }
  });

  // Update labels, placeholders, visible texts
  const t = translations[lang];
  const set = (id, v) => { const el = document.getElementById(id); if (el) el.textContent = v; };
  set('rsvp_name', t.rsvp_name);
  set('rsvp_mail', t.rsvp_mail);
  set('rsvp_attend_label', t.rsvp_attend_label);
  set('rsvp_q', t.rsvp_q);
  set('rsvp_yes', t.rsvp_yes);
  set('rsvp_no',  t.rsvp_no);
  set('rsvp_y_s', t.rsvp_y_s);
  set('rsvp_n_s', t.rsvp_n_s);

  const namepc = document.getElementById('namepc');
  const emailpc = document.getElementById('emailpc');
  if (namepc)    namepc.placeholder    = t.name_placeholder || '';
  if (emailpc)   emailpc.placeholder   = t.email_placeholder || '';
  const msgLabelEl = document.getElementById('msgadd_label');
  if (msgLabelEl) msgLabelEl.textContent = t.msgadd || '';
  const msgadd2 = document.getElementById('msgadd2');
  if (msgadd2) msgadd2.textContent = t.msgadd2 || '';
  const submitBtn = document.getElementById('submitBtn');
  if (submitBtn && t.submit_btn) submitBtn.textContent = t.submit_btn;

  // Update submitted values for radios
  const attendYes = document.getElementById('attend_yes');
  const attendNo  = document.getElementById('attend_no');
  const sleepYes  = document.getElementById('sleep_yes');
  const sleepNo   = document.getElementById('sleep_no');
  if (attendYes) attendYes.value = t.rsvp_yes;
  if (attendNo)  attendNo.value  = t.rsvp_no;
  if (sleepYes)  sleepYes.value  = t.rsvp_y_s;
  if (sleepNo)   sleepNo.value   = t.rsvp_n_s;
}

// 2) Use localized strings inside the validator every time it runs
function validateRsvpForm(){
  const tErr = translations[currentLang].errors || translations[currentLang];
  let valid = true;

  const nameInput  = document.getElementById('namepc');
  const emailInput = document.getElementById('emailpc');
  const errName    = document.getElementById('err-name');
  const errEmail   = document.getElementById('err-email');
  const errAttend  = document.getElementById('err-attendance');
  const errSleep   = document.getElementById('err-sleepo');
  const status     = document.getElementById('form-status');

  [errName, errEmail, errAttend, errSleep].forEach(e=> e && (e.textContent=''));
  status.textContent=''; status.classList.remove('visible');

  const nameVal  = (nameInput?.value || '').trim();
  const emailVal = (emailInput?.value || '').trim();
  const nameRegex = /^[A-Za-z√Ä-≈æ]+(?:[-' ][A-Za-z√Ä-≈æ]+)+$/;
  const repetitive = /(.)\1{3,}/;

  if (!nameVal){ errName.textContent = tErr.name_required; valid = false; }
  else if (!nameRegex.test(nameVal)){ errName.textContent = tErr.name_invalid; valid = false; }
  else if (repetitive.test(nameVal)){ errName.textContent = tErr.name_repetitive; valid = false; }

  const emailRegex = /^[^@\s]+@[^@\s]+\.[^@\s]+$/;
  if (!emailVal){ errEmail.textContent = tErr.email_required; valid = false; }
  else if (!emailRegex.test(emailVal)){ errEmail.textContent = tErr.email_invalid; valid = false; }

  const attendChecked = document.querySelector('input[name="attendance"]:checked');
  const sleepChecked  = document.querySelector('input[name="sleepo"]:checked');
  if (!attendChecked){ errAttend.textContent = tErr.attendance_required; valid = false; }
  if (!sleepChecked){  errSleep.textContent  = tErr.sleepo_required; valid = false; }
  const __attendNo__ = document.getElementById('attend_no');
  const __sleepYes__ = document.getElementById('sleep_yes');
  if (attendChecked && sleepChecked && __attendNo__?.checked && __sleepYes__?.checked){
    errSleep.textContent = tErr.conflict_sleep_when_not_attending || 'This combination is not possible: you will not attend but plan to sleep over.';
    valid = false;
  }

  if (!valid) {
    status.style.color = '#b22222';
    status.textContent = tErr.check_fields || '‚ö†Ô∏è Please check the fields above.';
    status.classList.add('visible');
  }
  return valid;
}

// 3) Wire the validator to the form submit once
(function initRsvpValidation(){
  const form = document.getElementById('rsvp-form');
  if (!form) return;
  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    if (!validateRsvpForm()) return;
    const status = document.getElementById('form-status');
    try{
      const resp = await fetch(form.action, { method:'POST', body:new FormData(form), headers:{ Accept:'application/json' }});
      if (resp.ok){
        status.style.color = 'green';
        status.textContent = (translations[currentLang].success || 'Success!');
        status.classList.add('visible');
        form.reset();
      } else {
        status.style.color = 'red';
        status.textContent = (translations[currentLang].fail || 'Error');
        status.classList.add('visible');
      }
    }catch(err){
      status.style.color = 'red';
      status.textContent = (translations[currentLang].network || 'Network error');
      status.classList.add('visible');
    }
  });
})();
  </script>

  <!-- Uploadcare v1 (Regular, ESM) -->
  <script type="module">
    import * as UC from 'https://cdn.jsdelivr.net/npm/@uploadcare/file-uploader@1/web/uc-file-uploader-inline.min.js';
    UC.defineComponents(UC);
  </script>

  <!-- Cloudinary (unsigned) with translations -->
  <script>
  (function(){
    const CLOUD_NAME    = 'dx6q3zyyh';
    const UPLOAD_PRESET = 'wedding_guest_uploads';
    const FOLDER        = 'wedding_guests';

    const MAX_IMAGE = 10 * 1024 * 1024;   // 10 MB
    const MAX_VIDEO = 100 * 1024 * 1024;  // 100 MB

    const input  = document.getElementById('guestMedia');
    const status = document.getElementById('upload-status');

    const humanSize = b => (b/1024/1024).toFixed(1) + ' MB';
    const T = () => (window.translations?.[window.currentLang] || window.translations?.en || {});

    function setStatus(text, kind){
      if (!status) return;
      status.classList.remove('ok','err');
      if (kind) status.classList.add(kind);
      status.textContent = text || '';
    }

    if (!input || !status) return;

    input.addEventListener('change', async () => {
      const t = T();
      setStatus('', null);
      if (!input.files || !input.files.length){ return; }

      [...status.querySelectorAll('ul')].forEach(u=>u.remove());
      const skipped = []; const uploaded = [];
      setStatus(t.uploading || 'Uploading‚Ä¶', null);

      for (const file of input.files){
        const isVideo = file.type && file.type.startsWith('video/');
        const limit   = isVideo ? MAX_VIDEO : MAX_IMAGE;

        if (file.size > limit){
          const msg = isVideo
            ? (t.tooBigVideo ? t.tooBigVideo(file.name, humanSize(file.size), humanSize(limit)) : `${file.name} (${humanSize(file.size)})\n‚Äî too large.\nMax ${humanSize(limit)} for videos.`)
            : (t.tooBigImage ? t.tooBigImage(file.name, humanSize(file.size), humanSize(limit)) : `${file.name} (${humanSize(file.size)})\n‚Äî too large.\nMax ${humanSize(limit)} for images.`);
          skipped.push(msg);
          continue;
        }

        const fd = new FormData();
        fd.append('file', file);
        fd.append('upload_preset', UPLOAD_PRESET);
        if (FOLDER) fd.append('folder', FOLDER);

        try{
          const res = await fetch(`https://api.cloudinary.com/v1_1/${CLOUD_NAME}/auto/upload`, { method:'POST', body: fd });
          if (!res.ok){
            skipped.push(t.presetFail || 'Upload failed. Please check cloud name & unsigned preset.');
            continue;
          }
          const data = await res.json();
          if (data.secure_url) uploaded.push(data.secure_url);
        }catch(e){
          skipped.push(t.fail || 'Network error.');
        }
      }

      input.value = '';

      if (uploaded.length){ setStatus(t.done || 'Upload complete ‚úÖ', 'ok'); }
      else if (!skipped.length){ setStatus(t.none || 'No files uploaded.', 'err'); }
      else { setStatus('', 'err'); }

      if (skipped.length){
        const ul = document.createElement('ul');
        ul.style.margin = '6px 0 0';
        ul.style.paddingLeft = '18px';
        ul.style.whiteSpace = 'pre-line';
        skipped.forEach(m => { const li = document.createElement('li'); li.textContent = m; ul.appendChild(li); });
        status.appendChild(ul);
      }
    });

    // keep Photos texts in sync on first load
    syncPhotosTexts();
  })();
  </script>

  <script>
    // ---- Upload (Cloudinary) with full i18n for messages ----
    (() => {
      const CLOUD_NAME    = 'dx6q3zyyh';
      const UPLOAD_PRESET = 'wedding_guest_uploads'; // UNSIGNED preset in Cloudinary
      const FOLDER        = 'wedding_guests';        // optional

      const input   = document.getElementById('guestMedia');
      const status  = document.getElementById('upload-status');
      const helpEls = document.querySelectorAll('.up-help'); // all help labels in Photos section
      const btnLbl  = document.getElementById('upload-btn-label');

      const MAX_IMAGE = 10 * 1024 * 1024;   // 10 MB
      const MAX_VIDEO = 100 * 1024 * 1024;  // 100 MB
      const humanSize = b => (b/1024/1024).toFixed(1) + ' MB';

      // Helper to get current dictionary safely
      const T = () => (window.translations?.[window.currentLang]) || window.translations?.en || {};

      // Keep Photos UI in sync with language
      function syncPhotosTexts(){
        const t = T();
        if (btnLbl) btnLbl.textContent = t.btn || 'Upload files';
        helpEls.forEach(el => { el.textContent = t.help || 'Upload your video / photo here.'; });
      }
      // Run once now
      syncPhotosTexts();

      // Patch setLanguage ONCE to also refresh Photos texts
      if (typeof window.setLanguage === 'function' && !window.__photosLangHooked){
        const __orig = window.setLanguage;
        window.setLanguage = function(lang){
          __orig(lang);
          syncPhotosTexts(); // <‚Äî ensures button/help reflect the new language
        };
        window.__photosLangHooked = true;
      }

      // Style so that line breaks (
) in localized error strings render as real breaks
      if (status) status.style.whiteSpace = 'pre-line';

      input?.addEventListener('change', async () => {
        const t = T();
        if (!status) return;
        status.className = '';
        status.textContent = '';

        if (!input.files || !input.files.length){
          // nothing selected
          return;
        }

        const skipped = [];
        const uploaded = [];
        status.textContent = t.uploading || 'Uploading‚Ä¶';

        for (const file of input.files){
          const isVideo = file.type?.startsWith('video/');
          const limit   = isVideo ? MAX_VIDEO : MAX_IMAGE;

          // size gate (localized, with newline support via pre-line)
          if (file.size > limit){
            const msg = isVideo
              ? (t.tooBigVideo ? t.tooBigVideo(file.name, humanSize(file.size), humanSize(limit))
                                : `${file.name} (${humanSize(file.size)}) ‚Äî too large. Max ${humanSize(limit)} for videos.`)
              : (t.tooBigImage ? t.tooBigImage(file.name, humanSize(file.size), humanSize(limit))
                                : `${file.name} (${humanSize(file.size)}) ‚Äî too large. Max ${humanSize(limit)} for images.`);
            skipped.push(msg);
            continue;
          }

          const fd = new FormData();
          fd.append('file', file);
          fd.append('upload_preset', UPLOAD_PRESET);
          if (FOLDER) fd.append('folder', FOLDER);

          try {
            const endpoint = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/auto/upload`;
            const res = await fetch(endpoint, { method: 'POST', body: fd });
            if (!res.ok){
              skipped.push(t.presetFail || 'Upload failed. Please check cloud name & unsigned preset.');
              continue;
            }
            const data = await res.json();
            if (data.secure_url) uploaded.push(data.secure_url);
          } catch (e){
            skipped.push(t.fail || 'Upload failed. Check your connection or try again.');
          }
        }

        // allow picking same files again later
        input.value = '';

        // Show localized success/none
        if (uploaded.length){
          status.textContent = t.done || 'Upload complete ‚úÖ';
          status.classList.add('ok');
        } else if (!skipped.length){
          status.textContent = t.none || 'No files uploaded.';
          status.classList.add('err');
        } else {
          // keep err class for mixed cases when everything skipped
          status.textContent = (t.none || 'No files uploaded.') + '
';
          status.classList.add('err');
        }

        // Append skipped reasons (localized). Each on its own line.
        if (skipped.length){
          const list = document.createElement('ul');
          list.style.margin = '6px 0 0';
          list.style.paddingLeft = '18px';
          for (const m of skipped){
            const li = document.createElement('li');
            li.textContent = m; // pre-line will show any 

            list.appendChild(li);
          }
          status.appendChild(list);
        }
      });
    })();
  </script>
  <script>
    // --- Global i18n bridge so Photos uploader can always read translations ---
    (function i18nBridge(){
      // If top-level let/const were used, they are NOT on window.
      // Promote them if present so other scripts can access.
      try {
        if (typeof window.translations === 'undefined' && typeof translations !== 'undefined') {
          window.translations = translations;
        }
      } catch(e) {}
      try {
        if (typeof window.currentLang === 'undefined' && typeof currentLang !== 'undefined') {
          window.currentLang = currentLang;
        }
      } catch(e) {}

      // Helper that always returns a valid dictionary
      const T = () => (window.translations?.[window.currentLang]) || (typeof translations !== 'undefined' && translations[currentLang]) || (window.translations?.en) || {};

      // Ensure Photos texts reflect the current language
      function syncPhotosTexts(){
        const t = T();
        const btnLbl  = document.getElementById('upload-btn-label');
        const helps   = document.querySelectorAll('.up-help');
        if (btnLbl) btnLbl.textContent = t.btn || 'Upload files';
        helps.forEach(el => el.textContent = t.help || 'Upload your video / photo here.');
        const st = document.getElementById('upload-status');
        if (st) st.style.whiteSpace = 'pre-line';
      }

      // Patch setLanguage (idempotent). Also keep window.currentLang in sync.
      if (typeof window.setLanguage === 'function' && !window.__langPatchV3){
        const __orig = window.setLanguage;
        window.setLanguage = function(lang){
          try { window.currentLang = lang; } catch(e) {}
          __orig(lang);
          syncPhotosTexts();
        };
        window.__langPatchV3 = true;
      }

      // Initial sync on DOM ready
      if (document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', syncPhotosTexts);
      } else {
        syncPhotosTexts();
      }
    })();
  </script>
</body>
</html>
